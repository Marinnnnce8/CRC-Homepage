/*! NBkit | @version 1.0.2 | @author NB Communication Ltd <info@nbcommunication.com> | @copyright 2020 */
!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i(require("uikit")):"function"==typeof define&&define.amd?define("nbkit",["uikit"],i):(t="undefined"!=typeof globalThis?globalThis:t||self).NBkit=i(t.UIkit)}(this,(function(t){"use strict";var i={componentPath:"",duration:256,graphql:"/graphql",offset:0,ukAlert:{animation:!0,duration:256},ukNotification:{status:"primary",pos:"top-right",timeout:4096}};function e(i){if(Array.isArray(i))return i.join(" ");if(t.util.isPlainObject(i)){var e,n=[];for(var s in i)if(t.util.hasOwn(i,s)){if(e=i[s],t.util.isPlainObject(e))break;t.util.isBoolean(e)&&(e=String(e)),s=t.util.hyphenate(s),n.push(s+": "+e)}return Object.keys(i).length===n.length?n.join("; "):JSON.stringify(i)}return String(i)}function n(t,i){try{return s(t=atob(t),"",!1,i)}catch(t){return""}}function s(i,e,s,a){if(void 0===s&&(s=!1),void 0===a&&(a=""),t.util.isPlainObject(i))return i;var r;if(t.util.isNode(i)&&(r=i,i=e?t.util.data(r,e):""),s)return r&&["","data-"].forEach((function(i){var n=i+e;t.util.hasAttr(r,n)&&t.util.removeAttr(r,n)})),i?n(i,a):{};if(a&&t.util.includes(i,a))i=i.split(a);else try{var o=t.util.parseOptions(i);t.util.isEmpty(o)||(i=o)}catch(n){e&&t.util.includes(i,e)&&(i=i.split(e))}return i}function a(i){if(t.util.isPlainObject(i))if("$options"in i)i=i.$options.name;else for(var e=["name","title"],n=e.length,s=0,a=void 0;s<n;s++)if((a=e[s])in i){i=i[a];break}return t.util.isString(i)?t.util.hyphenate(i).replace(/\s+/g,"-"):""}var r="localStorage"in window&&"sessionStorage"in window;function o(t){return/<[a-z][\s\S]*>/i.test(t)}function l(t){return o(t)?t:("<"===t.substr(0,1)?"":"<")+t+(">"===t.substr(t.length-1,1)?"":">")}function u(t){return"profiler"in window?profiler.start(t):null}function c(t){return"profiler"in window?profiler.stop(t):0}function f(e,n){t.util.isUndefined(e)||t.util.isUndefined(n)||e in i&&(t.util.isPlainObject(i[e])&&t.util.isPlainObject(n)?i[e]=t.util.assign({},i[e],n):i[e]=n)}function d(i,e){if(void 0===i&&(i=""),void 0===e&&(e={}),u("NBkit.ajax"),i||(i=[location.protocol,"//",location.host,location.pathname].join("")+"?ajax=1"),t.util.isPlainObject(e)||(e={}),t.util.includes(i,"#")){var n=i.split("#"),s=n[1].split("?");i=n[0]+(s.length>1?"?"+s[1]:"")+"#"+s[0]}return e=t.util.assign({headers:{"X-Requested-With":"XMLHttpRequest"},method:"GET",responseType:"json"},e),new t.util.Promise((function(n,s){t.util.ajax(i,e).then((function(t){var i=p(t);c("NBkit.ajax"),i.status?n(i):s(i)}),(function(t){c("NBkit.ajax"),s(p(t.xhr,t.status,t))}))}))}function p(i,e,n){void 0===e&&(e=500),void 0===n&&(n=null),t.util.isNumber(e)||(t.util.isString(e)&&(n=e),e=500),i.status&&(e=i.status);var s=i.response;if(!t.util.isPlainObject(s))try{s=JSON.parse(s)}catch(t){n||(n=s)}if(t.util.isPlainObject(s))if("errors"in s){for(var a=[],r=s.errors.length,o=0;o<r;o++)a.push(s.errors[o].message);s=a,e<400&&(e=0)}else"data"in s&&(s=s.data);else s=n,e=500;return{status:parseInt(e),response:s}}function g(i,e,n){if(void 0===e&&(e=new FormData),void 0===n&&(n=""),i instanceof HTMLFormElement)return new FormData(i);var s=e;for(var a in i)t.util.hasOwn(i,a)&&(t.util.isPlainObject(i[a])?g(i[a],s,a):s.append(n?n+"["+a+"]":a,i[a]));return s}function h(){for(var i={},n="",s=!1,a=arguments,r=a.length,o=0,l=void 0;o<r;o++)if(l=a[o],t.util.isBoolean(l))s=l;else if(t.util.isString(l)&&l)n=l;else if(Array.isArray(l)&&l.length){"class"in i||(i.class=[]),Array.isArray(i.class)||(i.class=[i.class]);for(var u=l.length,c=0;c<u;c++)i.class.push(l[c]);n="div"}else t.util.isPlainObject(l)&&(i=t.util.assign(i,l));var f,d=[];for(var p in i)if(t.util.hasOwn(i,p))switch(f=i[p],p){case"tag":n||(n=f);break;case"close":s=t.util.toBoolean(f);break;default:!1!==f&&(p&&(p=t.util.hyphenate(p)),""===f||t.util.isBoolean(f)?d.push(p):(f=e(f),d.push(p?p+'="'+f+'"':f)))}var g=d.join(" ");return g=g?" "+g:"",n&&(n=n.replace(/<|>|\//gi,"")),n?"<"+(n+g)+">"+(s?"</"+n+">":""):g}function m(i,e,n){void 0===e&&(e={}),void 0===n&&(n={}),t.util.isString(e)&&(e={alt:e});var s="img"===(n=t.util.assign({focus:!1,tag:"img",ukImg:!1,src:"url"},n)).tag,a={left:50,top:50},r=!1,o=!1;if(t.util.isPlainObject(i)&&(i.focus&&t.util.isPlainObject(i.focus)&&(a=t.util.assign(a,i.focus)),i.srcset&&(r=i.srcset),i.sizes&&i.srcset&&(o=i.sizes),i=i[n.src]),e=t.util.assign({alt:"image",width:0,height:0},e),!i)return"";var l,u=i.match(/(\.\d*x\d*\.)/g);if(s&&u){var c=u[0].split("x");e.width||(e.width=t.util.toNumber(c[0].replace(".",""))),e.height||(e.height=t.util.toNumber(c[1].replace(".","")))}if(!s&&n.focus){var f=e.style?e.style.split(";"):[];f.push("background-position:"+a.left+"% "+a.top+"%"),e.style=f.join(";")}return 0!==e.width&&s||(e.width=!1),0!==e.height&&s||(e.height=!1),s||(e.alt=!1),!r&&"sizes"in e&&delete e.sizes,n.ukImg?(l={src:!!s&&"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",dataSizes:!1,dataSrc:i,dataSrcset:r,dataUkImg:n.ukImg},o&&r&&(l.dataSizes=o),e=t.util.assign(l,e)):s?(l={src:i,srcset:r,loading:"lazy"},r&&(l.sizes=o),e=t.util.assign(l,e)):e.style="background-image:url("+i+");"+(e.style?e.style:""),h(e,n.tag)}function v(i,e,n){if(void 0===e&&(e=""),void 0===n&&(n=""),u("NBkit.wrap"),!e&&!n&&t.util.isString(i))return i;if((Array.isArray(e)||t.util.isPlainObject(e))&&(e=h(e,n)),t.util.isString(e)&&(t.util.startsWith(e,"uk-")||t.util.startsWith(e,"nb-"))&&(e='<div class="'+e+'">'),e=l(e),Array.isArray(i)){var s=e.split(">")[0].replace("<","");i=i.join("</"+s.split(" ")[0]+"><"+s+">")}var a;return t.util.includes(e,"></")&&!/=["|'][^"|']+(><\/)[^"|']+["|']/g.test(e)?(a=e.split("></"),e=a[0]+">"+i+"</"+a.splice(1).join("></")):(a=e.split(">",2),e=2===a.length?""+e+i+"</"+a[0].split(" ")[0].replace(/</gi,"")+">":i),c("NBkit.wrap"),e}function b(i,e,n){var s="NBkit.loadS"+("script"===i?"cript":"tyle");return u(s),new t.util.Promise((function(a,r){var o,l=document.createElement(i);for(var u in e)t.util.hasOwn(e,u)&&(o=e[u],"element"===u?n=o:l.setAttribute(u,o));l.onload=function(){c(s),a(l)},l.onerror=function(t){c(s),r(t)},t.util.append(n,l)}))}function y(i){for(var e=[],n=i.length,s=0,a=void 0;s<n;s++)a=i[s],e.push("js"===(t.util.isPlainObject(a)?a.src?a.src:a.href?a.href:"":a).substr(-2)?A(a):O(a));return t.util.Promise.all(e)}var k={};function j(){if(t.util.isEmpty(k)&&(k=s(t.util.$("body"),"load-components",!0," ")),!t.util.isEmpty(k)&&t.util.isPlainObject(k)){f("componentPath",k.path);for(var i=[],e=[],n=k.components.length,a=0,r=void 0;a<n;a++)r=k.components[a],t.util.$$("[data-uk-"+r+"]").length&&!(r in UIkit)?i.push(k.path+r+".min.js"):e.push(r);k.components=e,y(i).then((function(i){t.util.trigger(document,"componentsLoaded",i)}),t.util.noop)}}function A(i){return b("script",t.util.isPlainObject(i)?i:{src:i,async:!0},arguments.length>1?arguments[1]:"body")}function O(i){var e=t.util.isPlainObject(i)?i:{href:i};return e.rel="stylesheet",b("link",e,arguments.length>1?arguments[1]:"head")}function S(e){if(!t.util.isUndefined(e)&&(t.util.isString(e)&&(e={message:e}),t.util.isPlainObject(e))){for(var n=arguments,s=n.length,a=1,r=void 0;a<s;a++)r=n[a],t.util.isNumeric(r)?e.timeout=t.util.toNumber(r):t.util.isString(r)?r.includes("-")?e.pos=r:e.status=r:t.util.isPlainObject(r)&&(e=t.util.assign(r,e));return new t.util.Promise((function(n,s){t.util.isUndefined(e.message)?s(e):(e=t.util.assign({},i.ukNotification,e),"notification"in UIkit?(t.notification(e),n()):A(i.componentPath+"notification.min.js").then((function(){t.notification(e),n()})).catch((function(t){s(t)})))}))}}var w={callbacks:{},settings:{}};function P(i,e){if(t.util.isUndefined(i))return w.settings;if(t.util.isBoolean(i))for(var n in e=i,w.settings)t.util.hasOwn(w.settings,n)&&P(n,e||w.settings[n]);else{if(!(i in w.settings))return null;t.util.isFunction(e)?(i in w.callbacks||(w.callbacks[i]=[]),w.callbacks[i].push(e)):t.util.isUndefined(e)||(t.util.isNumeric(e)&&(e=parseInt(e)),t.util.isString(e)&&(e="yes"===e.toLowerCase()?1:0),t.util.isBoolean(e)&&(e=e?1:0),w.settings[i]=e,r&&localStorage.setItem("nbCookie",JSON.stringify(w.settings)),i in w.callbacks&&w.callbacks[i].forEach((function(t){t.call(null,w.settings[i])})))}return w.settings[i]}UIkit.component("nbCookieSetting",{props:{name:String,off:String,on:String},connected:function(){t.util.addClass(this.$el,a(this)),t.util.append(this.$el,this.renderInput()+this.renderInput(!0))},events:[{name:"change",delegate:function(){return'input[type="radio"]'},handler:function(t){return P(t.target.name,t.target.value)}}],methods:{renderInput:function(t){var i=t?1:0;return v(v(h({type:"radio",name:this.name,id:[this.name,i].join("_"),class:"uk-radio",value:""+i,checked:this.name in w.settings&&w.settings[this.name]===i},"input")+v(this[t?"on":"off"],"span"),"label"),"div")}}});Object.values||(Object.values=function(t){return Object.keys(t).map((function(i){return t[i]}))}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){var i=this;do{if(i.matches(t))return i;i=i.parentElement||i.parentNode}while(null!==i&&1===i.nodeType);return null});var N=Object.freeze({__proto__:null,cookieConsent:P,ajax:d,getRequestResponse:p,graphql:function(e,n){void 0===n&&(n={});var s={query:e};return t.util.isPlainObject(n)&&(s.variables=n),d(i.graphql,{data:JSON.stringify(s),headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},method:"POST"})},objectToFormData:g,post:function(t,i){return void 0===i&&(i={}),d(t,{data:g(i),method:"POST"})},getPreviousSibling:function(t,i){void 0===i&&(i="");var e=t.previousElementSibling;if(!i)return e;for(;e;){if(e.matches(i))return e;e=e.previousElementSibling}},loadAsset:b,loadAssets:y,loadComponents:j,loadScript:A,loadStyle:O,attrs:h,img:m,imgBg:function(i,e,n,s){void 0===e&&(e={}),void 0===n&&(n={}),void 0===s&&(s=!1),t.util.isPlainObject(e)||(e={}),t.util.isPlainObject(n)||(t.util.isBoolean(n)&&(s=n),n={});var a=m(i,e=t.util.assign({alt:!1,class:"uk-background-cover"},e),n=t.util.assign({tag:"div",focus:!0,ukImg:!0},n));return s?a+"</"+n.tag+">":a},link:function(i,e,n){void 0===e&&(e=""),void 0===n&&(n={});var s=!1;return t.util.isBoolean(n)?(s=n,n={}):t.util.isPlainObject(n)||(n={class:n}),t.util.isPlainObject(i)&&("href"in i?i=(n=i).href:"url"in n?(e=i[e||"title"],i=i.url):(n=i,i="#")),null===e?e=i:t.util.isPlainObject(e)?(n=e,e=""):t.util.isBoolean(e)&&(s=e,e=""),t.util.includes(i,"://")&&(s=!0),n.href=i,"target"in n||(n.target=!!s&&"_blank"),"rel"in n||(n.rel=!!s&&"noopener"),v(e,n,"a")},wrap:v,ukAlert:function(e){if(!t.util.isUndefined(e)){Array.isArray(e)&&(e=e.join("<br>"));for(var n="primary",s={},a=!1,r={class:["uk-alert"]},l=arguments,u=l.length,c=1,f=void 0,d=0,p=0;c<u;c++)if(f=l[c],t.util.isBoolean(f))a=f;else if(t.util.isNumeric(f))f=t.util.toNumber(f),1==c?n=f<100||f>=400?"danger":"success":s.duration=f;else if(t.util.isString(f))n=f;else if(Array.isArray(f))for(p=f.length;d<p;d++)r.class.push(f[d]);else if(t.util.isPlainObject(f))if("animation"in f)s=t.util.assign(s,f);else{if("class"in f){for(Array.isArray(f.class)||(f.class=f.class.split(" ")),p=f.class.length;d<p;d++)r.class.push(f.class[d]);delete f.class}r=t.util.assign(r,f)}return"danger"==n&&(r.role="alert"),r.class.push("uk-alert-"+n),r.dataUkAlert=!a&&!Object.keys(s).length||t.util.assign({},i.ukAlert,s),v((a?h({type:"button",class:"uk-alert-close",title:"close",dataUkClose:!0},"button",!0):"")+v(e,o(e)?"":"p"),r,"div")}},ukNotification:S,ukSpinner:function(){for(var i={},e={},n=arguments,s=n.length,a=1,r=void 0;a<s;a++)r=n[a],t.util.isNumeric(r)?e.ratio=t.util.toNumber(r):t.util.isString(r)?i.class=[r]:Array.isArray(r)?i.class=r:t.util.isPlainObject(r)&&(i=t.util.assign(i,r));return i.dataUkSpinner=!Object.keys(e).length||e,h(i,"span",!0)},attrValue:e,base64Decode:n,base64Encode:function(i,e){return void 0===e&&(e=""),Array.isArray(i)&&(i=i.join(e)),t.util.isPlainObject(i)&&(i=JSON.stringify(i)),"string"==typeof i?btoa(i):""},data:s,debounce:function(t,e,n){var s;return void 0===e&&(e=i.duration),void 0===n&&(n=!1),function(){var i=this,a=arguments,r=function(){s=null,n||t.apply(i,a)},o=n&&!s;clearTimeout(s),s=setTimeout(r,e),o&&t.apply(i,a)}},formDataEntries:function(t){if("function"==typeof FormData&&"entries"in FormData.prototype)return Array.from(new FormData(t).entries());for(var i=[],e=t.elements,n=e.length,s=0,a=void 0,r=void 0,o=void 0,l=void 0;s<n;s++)if(("SELECT"===(r=(a=e[s]).tagName.toUpperCase())||"TEXTAREA"===r||"INPUT"===r)&&(o=a.type,(l=a.name)&&!a.disabled&&"submit"!==o&&"reset"!==o&&"button"!==o&&("radio"!==o&&"checkbox"!==o||a.checked)))if("SELECT"===r)for(var u=a.getElementsByTagName("option"),c=u.length,f=0,d=void 0;f<c;f++)(d=u[f]).selected&&i.push([l,d.value]);else"file"===o?i.push([l,""]):i.push([l,a.value]);return i},getClassName:a,hasStorage:r,isTag:o,makeTag:l,profilerStart:u,profilerStop:c,punctuateString:function(t,i){return void 0===i&&(i="."),/.*[.,\/!?\^&\*;:{}=]$/.test(t)||(t+=i),t},queryString:function(t){return"?"+Object.keys(t).map((function(i){return encodeURIComponent(i)+"="+encodeURIComponent(t[i])})).join("&")},setOption:f}),E=t.util.noop;return E.options=i,E.util=N,E.version="1.0.2",window.nb=N,window.uk=t.util,u("NBkit.init"),j(),t.util.once(document,"componentsLoaded",(function(){var i=t.util.$$("[data-uk-nb-json]");i.length&&i.forEach((function(i){t.util.on(i,"complete",(function(){j()}))}))})),function(){if(t.util.hasAttr(t.util.$("body"),"data-nb-cookie"))if(w=t.util.assign(w,s(t.util.$("body"),"nb-cookie",!0)),r){var e=!1,n=localStorage.getItem("nbCookie");if(n)try{w.settings=JSON.parse(n),e=!0}catch(t){}e||d(w.url).then((function(e){if(200===e.status){var n=i.duration*i.duration;setTimeout((function(){P(!1)}),n-256),S({message:w.message,timeout:n,clsContainer:"nb-cookie uk-notification"}).then((function(){t.util.once(t.util.$(".all"),"click",(function(){P(!0)})),t.util.once(t.util.$(".set"),"click",(function(){P(!1),window.location.href.split("#")[0]===w.url?window.location.href=w.id:UIkit.modal.dialog(v(v(e.response.title,"h2")+h({type:"button",class:"uk-modal-close-default",dataUkClose:!0},"button",!0),"uk-modal-header")+v(e.response.body,{class:"uk-modal-body",dataUkOverflowAuto:!0},"div"))}))}))}else P(!1)}),(function(){P(!1)}))}else P(!1)}(),t.util.ready((function(){var i=t.util.$("header");i&&f("offset",i.offsetHeight);var e,n=t.util.$$("a[target=_blank]");n&&n.forEach((function(i){e=t.util.attr(i,"rel"),e=t.util.isString(e)?e.split(" "):[],t.util.includes(e,"noopener")||e.push("noopener"),t.util.attr(i,"rel",e.join(" "))})),c("NBkit.init")})),E}));
